[Verification Log - 2025-12-24]
1. Recipient Count Display: Verified logic in write_card_screen.dart (lines 2900+). Shows "0/1" dynamically.
2. Original Message: Verified BottomSheet implementation in write_card_screen.dart. Shows full content in dialog.
3. Frame Button: Verified visibility toggle (commented out in write_card_screen.dart).
4. Phone Formatting: Verified PhoneInputFormatter class and formatPhone utility. 01012345678 -> 010-1234-5678.
5. Calendar Filtering: Verified logic in home_view_model.dart (lines 100-104). Filters by contact name match.
6. Edit Plan Dialog: Verified _showEditPlanDialog in home_screen.dart. Includes contact search.
7. Build Errors: Resolved G4020727C (const Value) errors.
8. Context Issue: Fixed Navigator.pop context in _showContactPicker.
9. Database Schema: Added 'recipients' column to DailyPlans table (v9).
10. AI Extraction: Verified AiService.extractNames() with Gemini.
11. Recipient UI: Verified Multi-selection UI in _showAddEventDialog/_showEditEventDialog.
12. Logic: Verified LIKE search and auto-population in HomeViewModel.
13. Button Layout: Fixed 'Add New' button in contact picker to be horizontal and next to 'Cancel'.
14. Recipient Saving: Fixed schema migration (v9 -> v10) and added explicit DB repair logic. Verified logs.
15. Name Extraction: Switched to "Offline-First Strategy". 
    - Priority 1: Embedded Lightweight Logic (Instant, works on all devices).
    - Priority 2: On-Device AI (Gemini Nano) for compatible Android devices.
    - Disabled Server AI fallback completely (Privacy/Offline focused).
2025-12-24 22:20:09.847713: [AppDatabase] Executing UPDATE DailyPlans: id=2, title=ì„±íƒ„ì ˆ, recipients=[{"name":"ìœ ì¬ì„","phone":"01012345678"},{"name":"ê¹€ì¢…êµ­","phone":"01098765432"},{"name":"ì†¡ì§€íš¨","phone":"01055554444"},{"name":"í•˜ë™í›ˆ","phone":"01077778888"},{"name":"ìˆ˜ì‹ ì 1","phone":"010-0000-0001"},{"name":"ìˆ˜ì‹ ì 2","phone":"010-0000-0002"},{"name":"ìˆ˜ì‹ ì 3","phone":"010-0000-0003"},{"name":"ìˆ˜ì‹ ì 4","phone":"010-0000-0004"},{"name":"ìˆ˜ì‹ ì 5","phone":"010-0000-0005"},{"name":"ìˆ˜ì‹ ì 6","phone":"010-0000-0006"},{"name":"ìˆ˜ì‹ ì 7","phone":"010-0000-0007"},{"name":"ìˆ˜ì‹ ì 8","phone":"010-0000-0008"},{"name":"ìˆ˜ì‹ ì 9","phone":"010-0000-0009"},{"name":"ìˆ˜ì‹ ì 10","phone":"010-0000-0010"},{"name":"ìˆ˜ì‹ ì 11","phone":"010-0000-0011"},{"name":"ìˆ˜ì‹ ì 12","phone":"010-0000-0012"},{"name":"ìˆ˜ì‹ ì 13","phone":"010-0000-0013"},{"name":"ìˆ˜ì‹ ì 14","phone":"010-0000-0014"}]
2025-12-24 22:20:09.870957: [HomeViewModel] Verified update for plan 2. New recipients in DB: [{"name":"ìœ ì¬ì„","phone":"01012345678"},{"name":"ê¹€ì¢…êµ­","phone":"01098765432"},{"name":"ì†¡ì§€íš¨","phone":"01055554444"},{"name":"í•˜ë™í›ˆ","phone":"01077778888"},{"name":"ìˆ˜ì‹ ì 1","phone":"010-0000-0001"},{"name":"ìˆ˜ì‹ ì 2","phone":"010-0000-0002"},{"name":"ìˆ˜ì‹ ì 3","phone":"010-0000-0003"},{"name":"ìˆ˜ì‹ ì 4","phone":"010-0000-0004"},{"name":"ìˆ˜ì‹ ì 5","phone":"010-0000-0005"},{"name":"ìˆ˜ì‹ ì 6","phone":"010-0000-0006"},{"name":"ìˆ˜ì‹ ì 7","phone":"010-0000-0007"},{"name":"ìˆ˜ì‹ ì 8","phone":"010-0000-0008"},{"name":"ìˆ˜ì‹ ì 9","phone":"010-0000-0009"},{"name":"ìˆ˜ì‹ ì 10","phone":"010-0000-0010"},{"name":"ìˆ˜ì‹ ì 11","phone":"010-0000-0011"},{"name":"ìˆ˜ì‹ ì 12","phone":"010-0000-0012"},{"name":"ìˆ˜ì‹ ì 13","phone":"010-0000-0013"},{"name":"ìˆ˜ì‹ ì 14","phone":"010-0000-0014"}]
2025-12-24 22:20:45.180364: [HomeViewModel] Updating schedule 6 with recipients: [{"name":"ê¹€ì¢…êµ­","phone":"01098765432"}]
€ì¢…êµ­","phone":"01098765432"}]
2025-12-24 22:20:45.198903: [HomeViewModel] Verified update for plan 6. New recipients in DB: [{"name":"ê¹€ì¢…êµ­","phone":"01098765432"}]
2025-12-24 22:22:30.817324: [HomeViewModel] Updating schedule 6 with recipients: []
¹€ì¢…êµ­ Birthday, recipients=[]
2025-12-24 22:22:30.835364: [HomeViewModel] Verified update for plan 6. New recipients in DB: []
2025-12-24 22:49:40.871895: [AppDatabase] Executing UPDATE DailyPlans: id=6, title=ê¹€ì¢…êµ­ Birthday, recipients=[{"name":"ì†¡ì§€íš¨","phone":"01055554444"},{"name":"í•˜ë™í›ˆ","phone":"01077778888"}]
2025-12-24 22:49:40.878507: [AppDatabase] Update Result: 1 rows affected for plan 6
2025-12-24 22:49:40.881410: [HomeViewModel] Verified update for plan 6. New recipients in DB: [{"name":"ì†¡ì§€íš¨","phone":"01055554444"},{"name":"í•˜ë™í›ˆ","phone":"01077778888"}]
